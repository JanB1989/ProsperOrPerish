# In general cities and towns are now way worse at producing food.
# Building in cities and towns is also more expensive in general to slow snowball down a bit
# They are better at storing food though.
TRY_REPLACE:city = {
	
	rank_modifier = {
		local_max_rgo_size_modifier = 0.0

		local_burghers_desired_pop = 0.50
		local_laborers_desired_pop = 0.50
		local_soldiers_desired_pop = 0.20
		local_nobles_desired_pop = 0.025
		local_clergy_desired_pop = 0.05
	
		local_max_control = 0.1
		local_population_capacity = 0
		local_population_capacity_modifier = 0.0

		local_population_growth = -0.003 # This is purely for balancing. The idea is that population should grow ONLY at X months of food stored
		
		local_food_capacity = 0 # 500
		local_food_capacity_modifier = 0 # 0
		
		local_construction_speed = 0.25
		
		local_integration_speed_modifier = -0.5
		
		local_monthly_food_modifier = -0.30 # -0.33
		
		local_pop_promotion_speed_modifier = 0.25
		
		free_building_levels = 40
		
		max_constructions_at_same_time = 1

		local_migration_attraction = 0 # 5
		local_migration_speed = 0.00 # 0

		local_build_buildings_cost = 0.0

	}
	
	country_modifier = {
		monthly_doom = 0.03
		fort_limit = 1
	}
	
	allow = {
		location_rank = location_rank:town
		population >= 50
		modifier:cannot_upgrade_location = no
	}
	max_rank = yes
	
	build_time =  0 # 730
	
	color = color_rank_kingdom
	is_established_city = yes
	
	construction_demand = build_city_demand
	
	frame_tier = 3
	show_in_label = yes

}

TRY_REPLACE:town = {
	
	rank_modifier = {
		local_max_rgo_size_modifier = 0.00

		local_burghers_desired_pop = 0.25
		local_laborers_desired_pop = 0.25
		local_soldiers_desired_pop = 0.10
		local_nobles_desired_pop = 0.015
		local_clergy_desired_pop = 0.040
		
		local_max_control = 0.05
		local_population_capacity = 0
		local_population_capacity_modifier = 0.0

		local_population_growth = -0.0025 # This is purely for balancing. The idea is that population should grow ONLY at X months of food stored

		local_food_capacity = 0 # 250
		local_food_capacity_modifier = 0
		
		local_integration_speed_modifier = -0.25
		
		local_monthly_food_modifier = -0.30 # -0.20
		free_building_levels = 20

		local_migration_attraction = 0.0
		local_migration_speed = 0.00

		local_build_buildings_cost = 0.0

	}
	
	country_modifier = {
		monthly_doom = 0.01
	}
	
	allow = {
		population >= 15
		modifier:cannot_upgrade_location = no
	}
	
	color = color_rank_duchy
	is_established_city = yes
	
	build_time = 0 # 365
	construction_demand = build_town_demand

	frame_tier = 2
	show_in_label = yes

}

TRY_REPLACE:rural_settlement = {
	rank_modifier = {
		local_max_rgo_size_modifier = 0.10
		local_monthly_food_modifier = -0.15 # 0
		local_monthly_food = 1
		free_building_levels = 10
		
		local_max_control = 0.00
		local_population_capacity = 0
		local_population_capacity_modifier = 0

		local_migration_attraction = 0
		local_migration_speed = 0.00 # 0

		local_food_capacity = 0 # 100
		local_food_capacity_modifier = 0 # 0.5
		local_build_buildings_cost = 0.0

		local_population_growth = -0.002 # This is purely for balancing. The idea is that population should grow ONLY at X months of food stored
	}
	
	country_modifier = {
		monthly_doom = 0.005
	}
	
	color = color_rank_county

	frame_tier = 1
	show_in_label = no

}